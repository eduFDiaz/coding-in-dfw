<!-- Generic Add Dialog -->
<ng-template #addGeneric let-data let-ref="dialogRef">
    <nb-card status="success">
        <nb-card-header>Create new FAQ </nb-card-header>
        <nb-card-body>
              <div class="row">
            <form #newForm="ngForm" name="newForm">
              <div class="col">
                  <label for="title" class="label">Title:</label><br>
                  <input fullWidth minlength="4" [(ngModel)]="title" required nbInput name="title" id="title">
              </div>
              <div class="col">
                  <label for="description" class="label">Description:</label><br>
                  <!-- <input fullWidth minlength="4" #description="ngModel" [(ngModel)]="data.object.description"
                          required nbInput name="description" id="description"> -->
                  <textarea [(ngModel)]="description" cols="30" name="description" nbInput fullWidth placeholder="Description"></textarea>
              </div>
            </form>
            </div>
        </nb-card-body>
        <nb-card-footer>
            <button [disabled]="!newForm.valid" nbButton (click)="ref.close(newForm.value)"
                status="success">Add!</button>
        </nb-card-footer>
    </nb-card>
</ng-template>


<!-- Generic Delete Dialog -->
<ng-template #dialogDelete let-data let-ref="dialogRef">
    <nb-card status="danger">
        <nb-card-header>Do you want to delete this FAQ?</nb-card-header>
        <nb-card-body>This action cant be undone!

        </nb-card-body>
        <nb-card-footer>
            <button nbButton (click)="deleteTag(data.id); ref.close()" status="danger">Delete!</button>
        </nb-card-footer>
    </nb-card>
</ng-template>

<!-- Generic Edit Dialog -->
<ng-template #dialogEdit let-data let-ref="dialogRef">
    <nb-card status="success">
        <nb-card-header>Edit FAQ </nb-card-header>
        <nb-card-body>
          <div class="row">



            <form #editForm="ngForm" name="editForm">

                <div class="col-md-6">
                    <label for="title" class="label">Title:</label><br>
                    <input fullWidth minlength="4" #title="ngModel" required nbInput name="title" id="title"
                        [(ngModel)]="data.object.title">

                    <div *ngIf="title.invalid && (title.dirty || title.touched)">
                        <nb-alert *ngIf="title.errors.required" status="warning">Title is required.
                        </nb-alert>
                        <nb-alert *ngIf="title.errors.minlength" status="warning">Title must be at
                            least 4
                            characters long.</nb-alert>
                    </div>
                </div>
                <div class="col-md-6">
                    <label for="description" class="label">Description:</label><br>
                    <!-- <input fullWidth minlength="4" #description="ngModel" [(ngModel)]="data.object.description"
                            required nbInput name="description" id="description"> -->

                    <textarea #description="ngModel" cols="30" name="description" [(ngModel)]="data.object.description"
                        nbInput fullWidth placeholder="Description"></textarea>

                    <div *ngIf="description.invalid && (description.dirty || description.touched)">
                        <nb-alert *ngIf="description.errors.required" status="warning">Description is required.
                        </nb-alert>
                        <nb-alert *ngIf="description.errors.minlength" status="warning">Description must be at
                            least 4
                            characters long.</nb-alert>
                    </div>
                </div>
                <div>
                  <input type="hidden" value="{{data.object.id}}">
                </div>

            </form>
              </div>
        </nb-card-body>
        <nb-card-footer>
            <button [disabled]="!editForm.dirty || !editForm.valid" type="button" nbButton
                (click)="ref.close({ body: editForm.value, id: data.object.id})" status="success">Save changes</button>


        </nb-card-footer>
    </nb-card>
</ng-template>



<!-- Main structure -->
<div class="row">
    <div class="col-md-12">
        <nb-card [nbSpinner]="spinner">
            <nb-card-header>
                FAQs:
                <button nbButton status="primary" size="tiny">View on page</button>
            </nb-card-header>
            <nb-card-body>
                <div class="row">
                    <div class="col-md-12">
                        <label for="language"><b>Your FAQs</b></label>
                        <button nbButton status="success" (click)="createDialogGeneric(addGeneric)"
                            size="tiny">+</button>
                        <nb-list>
                            <nb-list-item *ngFor="let faq of faqs">
                                <div class="col-md-4">{{ faq.title }}</div>
                                <div class="col-md-4">{{ faq.description }}</div>

                                <div class="row ">
                                    <div class="col-md-1">
                                        <button (click)="openDeleteDialog(dialogDelete, faq)" nbButton status="danger"
                                            size="tiny">
                                            <nb-icon icon="trash"></nb-icon>
                                        </button>
                                        <button (click)="openEditDialog(dialogEdit, faq)" nbButton status="success"
                                            size="tiny">
                                            <nb-icon icon="edit"></nb-icon>
                                        </button>

                                    </div>
                                </div>

                            </nb-list-item>
                        </nb-list>


                    </div>
                </div>



            </nb-card-body>

        </nb-card>
    </div>
</div>
